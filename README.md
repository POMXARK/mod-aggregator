# Mod Aggregator

Десктопное приложение для агрегации модов из различных сайтов с визуальным конструктором парсеров.

## Архитектура проекта

### Frontend (Svelte 5 + TypeScript)
- **Фреймворк**: Svelte 5 с TypeScript
- **Стилизация**: Tailwind CSS + кастомные стили
- **Граф нод**: @xyflow/svelte для визуального конструктора парсеров
- **Состояние**: Svelte 5 runes ($state, $derived, $effect)

### Backend (Rust + Tauri 2.0)
- **Фреймворк**: Tauri 2.0 для десктопных приложений
- **База данных**: SQLite через SQLx
- **Парсинг**: scraper crate для HTML парсинга
- **HTTP**: reqwest для запросов

## Структура проекта

```
mod-aggregator/
├── src/                    # Frontend код (Svelte 5)
│   ├── components/         # Svelte компоненты
│   ├── lib/                # Утилиты и composables
│   └── App.svelte          # Главный компонент
├── src-tauri/              # Backend код (Rust)
│   └── src/
│       ├── main.rs         # Tauri команды
│       ├── database.rs     # Работа с БД
│       ├── parser.rs       # Движок парсинга
│       └── models.rs       # Модели данных
└── .cursor/rules/          # Правила для Cursor AI
```

## Основные компоненты

### Frontend
- **App.svelte** - главный компонент, роутинг между страницами
- **ParserBuilder.svelte** - визуальный конструктор парсеров с нодами
- **PageViewer.svelte** - просмотр страниц для выбора элементов
- **Sidebar.svelte** - боковая панель навигации
- **ModsList.svelte** - список модов
- **SitesManager.svelte** - управление сайтами

### Backend
- **database.rs** - работа с SQLite базой данных
- **parser.rs** - движок парсинга HTML
- **main.rs** - Tauri команды и обработчики

## Функционал

- Управление сайтами для парсинга
- Визуальный конструктор парсеров
- Сохранение и кеширование страниц
- Версионирование сохраненных страниц
- Автоматическое обновление модов
- Уведомления о новых версиях

## Разработка

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run tauri:dev

# Сборка
npm run tauri:build
```

## Комментарии и документация

- Все комментарии пишутся на русском языке
- Каждая функция должна иметь JSDoc комментарий
- README файлы в каждой директории описывают архитектуру компонентов
