# Компоненты


Описание компонентов приложения.

## Основные компоненты

### App.svelte
Главный компонент приложения. Управляет:
- Роутингом между страницами (моды, сайты, конструктор, уведомления)
- Состоянием сайдбара (открыт/закрыт)
- Загрузкой списка сайтов
- Определением режима работы (Tauri/браузер)

### Sidebar.svelte
Боковая панель навигации:
- Навигация между страницами
- Список сайтов для фильтрации
- Возможность скрытия (collapsed режим)
- Tooltips при скрытом состоянии
- Относительные размеры для адаптивности

### ParserBuilder.svelte
Визуальный конструктор парсеров:
- Граф нод для построения парсера
- Интеграция с PageViewer для выбора элементов
- Генерация кода парсера
- Сохранение конфигурации парсера в базу данных
- Управление версиями сохраненных страниц

### PageViewer.svelte
Компонент для просмотра и работы с веб-страницами:
- Загрузка страниц с сервера
- Кеширование и версионирование страниц
- Привязка страниц к сайтам
- Встраивание CSS и изображений как base64
- Функционал выделения элементов для парсинга
- Обработка внутренних ссылок с автоматическим сохранением

**Ключевые функции:**
- `loadPage(forceRefresh)` - Загружает страницу с учетом кеша
- `embedResources()` - Встраивает внешние ресурсы в HTML
- `getSelectionScriptContent()` - JavaScript для выделения элементов
- `getSelectionStyles()` - CSS стили для рамки выделения

### ModsList.svelte
Список модов:
- Отображение модов в виде карточек
- Фильтрация по сайту
- Проверка обновлений
- Открытие модов на сайте

### SitesManager.svelte
Управление сайтами:
- Список всех сайтов
- Добавление нового сайта
- Редактирование существующего
- Удаление сайта

### NotificationsPanel.svelte
Панель уведомлений:
- Список уведомлений о новых версиях
- Отметка прочитанными
- Автоматическое обновление каждые 30 секунд

## Компоненты нод

### SelectorNode.svelte
Нода для выбора элементов на странице. Позволяет указать CSS селектор.

### ExtractNode.svelte
Нода для извлечения данных из элементов. Поддерживает извлечение текста, атрибутов.

### FilterNode.svelte
Нода для фильтрации данных по условиям.

### TransformNode.svelte
Нода для трансформации извлеченных данных.

### OutputNode.svelte
Нода вывода результата парсинга.

## Вспомогательные компоненты

### ElementSelector.svelte
Компонент для выбора элементов на странице с предпросмотром.

### ContextMenu.svelte
Контекстное меню для добавления нод в конструкторе.

### ModCard.svelte
Карточка мода с информацией и действиями.

### SiteForm.svelte
Форма для добавления/редактирования сайта.

### Tooltip.svelte
Компонент подсказок для элементов интерфейса.

## Иконки

Все иконки находятся в `components/icons/`:
- HomeIcon, CogIcon, CodeIcon, BellIcon
- PlusIcon, TrashIcon, PencilIcon, PlayIcon
- CheckIcon, XMarkIcon, MenuIcon, RefreshIcon



